#
# Test ADDTIME function
# Author: syw
#
DROP DATABASE IF EXISTS mcs179_db;
CREATE DATABASE mcs179_db;
USE mcs179_db;
CREATE TABLE t1 (a CHAR(1), b INT, c DATETIME, d DOUBLE)engine=tianmu;
INSERT INTO t1 VALUES ('', NULL, '1990-01-01', NULL),('a', 12, '1212-12-12', 1.19691E+100),('b', 13, '1313-3-13 13:13:13', 2.1961E+18),('c', 14, '1414-4-14', 0.16191),('d', 15, '2015-5-15 15:15:15', 1.971917);
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` char(1) DEFAULT NULL,
  `b` int(11) DEFAULT NULL,
  `c` datetime DEFAULT NULL,
  `d` double DEFAULT NULL
) ENGINE=TIANMU DEFAULT CHARSET=latin1
SELECT ADDTIME('2020-02-02 22:22:22', '2 1:1:1');
ADDTIME('2020-02-02 22:22:22', '2 1:1:1')
2020-02-04 23:23:23
SELECT ADDTIME('2020-02-02 22:22:22', '2:2:2.1111');
ADDTIME('2020-02-02 22:22:22', '2:2:2.1111')
2020-02-03 00:24:24.111100
SELECT ADDTIME('2020-02-02 22:22:22', '-2:2:2');
ADDTIME('2020-02-02 22:22:22', '-2:2:2')
2020-02-02 20:20:20
SELECT ADDTIME('22:22:22', '03:11:22');
ADDTIME('22:22:22', '03:11:22')
25:33:44
SELECT c, ADDTIME(c, '1 3:3:3') FROM t1;
c	ADDTIME(c, '1 3:3:3')
1990-01-01 00:00:00	1990-01-02 03:03:03
1212-12-12 00:00:00	1212-12-13 03:03:03
1313-03-13 13:13:13	1313-03-14 16:16:16
1414-04-14 00:00:00	1414-04-15 03:03:03
2015-05-15 15:15:15	2015-05-16 18:18:18
SELECT c, ADDTIME(c, '-2 1:1:1') FROM t1;
c	ADDTIME(c, '-2 1:1:1')
1990-01-01 00:00:00	1989-12-29 22:58:59
1212-12-12 00:00:00	1212-12-09 22:58:59
1313-03-13 13:13:13	1313-03-11 12:12:12
1414-04-14 00:00:00	1414-04-11 22:58:59
2015-05-15 15:15:15	2015-05-13 14:14:14
SELECT c, ADDTIME(c, '100:11:12') FROM t1;
c	ADDTIME(c, '100:11:12')
1990-01-01 00:00:00	1990-01-05 04:11:12
1212-12-12 00:00:00	1212-12-16 04:11:12
1313-03-13 13:13:13	1313-03-17 17:24:25
1414-04-14 00:00:00	1414-04-18 04:11:12
2015-05-15 15:15:15	2015-05-19 19:26:27
SELECT c, ADDTIME(c, '-100:11:12') FROM t1;
c	ADDTIME(c, '-100:11:12')
1990-01-01 00:00:00	1989-12-27 19:48:48
1212-12-12 00:00:00	1212-12-07 19:48:48
1313-03-13 13:13:13	1313-03-09 09:02:01
1414-04-14 00:00:00	1414-04-09 19:48:48
2015-05-15 15:15:15	2015-05-11 11:04:03
SELECT c, ADDTIME(c, '100:11') FROM t1;
c	ADDTIME(c, '100:11')
1990-01-01 00:00:00	1990-01-05 04:11:00
1212-12-12 00:00:00	1212-12-16 04:11:00
1313-03-13 13:13:13	1313-03-17 17:24:13
1414-04-14 00:00:00	1414-04-18 04:11:00
2015-05-15 15:15:15	2015-05-19 19:26:15
SELECT c, ADDTIME(c, '100') FROM t1;
c	ADDTIME(c, '100')
1990-01-01 00:00:00	1990-01-01 00:01:00
1212-12-12 00:00:00	1212-12-12 00:01:00
1313-03-13 13:13:13	1313-03-13 13:14:13
1414-04-14 00:00:00	1414-04-14 00:01:00
2015-05-15 15:15:15	2015-05-15 15:16:15
DROP DATABASE mcs179_db;
